# Рецепты на Django

Это веб-приложение для управления рецептами, созданное с использованием Django. Оно позволяет пользователям регистрироваться, входить в систему, создавать, просматривать, обновлять и удалять рецепты. Приложение также предоставляет REST API для взаимодействия с рецептами.

### Технологии

- **Backend**: Django, Django REST Framework (DRF)
- **Frontend**: HTML, CSS
- **Database**: SQLite
- **Web Server**: Nginx
- **Containerization**: Docker + Docker Compose

## Основные функции

- **Регистрация и аутентификация пользователей**:
  - Регистрация новых пользователей.
  - Вход и выход из системы.

- **Управление рецептами**:
  - Создание новых рецептов.
  - Просмотр списка рецептов.
  - Просмотр деталей конкретного рецепта.
  - Обновление существующих рецептов (только для автора или суперпользователя).

- **REST API**:
  - Получение списка рецептов.
  - Создание новых рецептов.
  - Частичное обновление рецептов (PATCH-запросы).

## Установка и запуск

### Требования

- Docker
- Docker Compose

### Инструкции по установке

###  **Клонируйте репозиторий**:
```bash
  git clone https://github.com/scorp5438/recipe_site_django.git
  cd recipe_site_django
```

###  **Создайте файл .env:**

Скопируйте содержимое из .env.template в .env и настройте переменные окружения, если это необходимо.

## Руководство по запуску и использованию приложения

###  **Запустите приложение с помощью Docker Compose:**
```bash
  docker-compose up --build -d
```

### **После запуска приложение будет доступно по следующим адресам:**

   - **Веб-интерфейс:** http://localhost:8008
   - **API:** http://localhost:8008/api/
   - **Админка:** http://localhost:8008/admin/
    
    Логин/пароль: admin/admin*
    *ВАЖНО: Чтобы зайти в админку, необходимо создать superuser. Выполните команду:
```bash
  docker-compose exec app python manage.py createsuperuser
```

### **Остановка приложения
```bash
  docker-compose down
```

###  **API Endpoints**

- **Получение списка рецептов:**

  `GET /api/recipes/`

- **Создание нового рецепта:**

  `POST /api/recipes/`

- **Частичное обновление рецепта:**

  `PATCH /api/recipes/<id>/`

- **Получение информации о рецепте:**

    `GET /api/recipes/<id>/`

### **Примеры запросов**

- **Создание рецепта**
```
POST /api/recipes/
{
    "name": "Паста Карбонара",
    "description": "Классический итальянский рецепт",
    "steps": "1. Приготовить пасту...",
    "time": "30 минут",
    "ingredients": "паста, бекон, яйца, сыр",
    "category": 1
}
```    

- **Частичное обновление рецепта**
```
PATCH /api/recipes/1/
{
    "description": "Обновленное описание рецепта"
}
```
- **Получение списка рецептов**
```
GET /api/recipes/
```
- **Получение информации о рецепте**
```
GET /api/recipes/1/
```

